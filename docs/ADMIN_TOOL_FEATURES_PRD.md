# ex-GPT 관리도구 기능 명세서 (PRD)

## 문서 정보
- **문서명**: ex-GPT 관리도구 기능 명세서
- **작성일**: 2025-10-24
- **버전**: 1.0
- **목적**: 한국도로공사 ex-GPT 관리도구의 전체 기능 상세 명세

---

## 1. 공통 (Common)

### 1.1 공통 UI

#### 1.1.1 팝업
**개발대상**: UI
- 시스템 전반에서 사용되는 팝업 컴포넌트
- 알림, 확인, 입력 등 다양한 유형 지원

#### 1.1.2 레이아웃
**개발대상**: UI
- CoreUI 기반 관리자 레이아웃
- Header + Sidebar + Main Content 구조
- 반응형 디자인 지원

#### 1.1.3 메뉴
**개발대상**: UI
- 계층형 메뉴 구조 (대분류/중분류/소분류)
- 아이콘 + 텍스트
- 접기/펼치기 지원
- 활성 상태 표시

#### 1.1.4 사용자 영역
**개발대상**: UI
- 로그인 사용자 정보 표시
- 로그아웃 기능
- 사용자 프로필 접근

#### 1.1.5 부서/사용자 트리
**개발대상**: UI  
**프로그램 기능**:
- 부서/사용자 조건 검색
- 부서/사용자 트리 검색
- 로그인 사용자의 부서로 포커스

### 1.2 공통 프로그램

#### 1.2.1 DB 접속
**개발대상**: 프로그램
- PostgreSQL 비동기 연결
- 연결 풀 관리
- 트랜잭션 처리

#### 1.2.2 공통 코드 조회
**개발대상**: 프로그램
- 시스템 전반에서 사용되는 공통 코드 조회 API
- 캐싱 지원

#### 1.2.3 엑셀 다운로드
**개발대상**: 프로그램
- 그리드 데이터를 엑셀 파일로 변환
- xlsx 형식 지원
- 대용량 데이터 처리

#### 1.2.4 데이터 페이징
**개발대상**: 프로그램
- offset/limit 기반 페이징
- 전체 건수 조회
- 정렬 지원

#### 1.2.5 파일 업로드
**개발대상**: 프로그램
- 다중 파일 업로드 지원
- 파일 타입 검증
- MinIO 저장
- 업로드 진행률 표시

---

## 2. 로그인 (Authentication)

### 2.1 로그인 UI
**개발대상**: UI
- SSO (Single Sign-On) 통합
- 로그인 폼
- 비밀번호 찾기

### 2.2 로그인 프로그램

#### 2.2.1 로그인 체크
**개발대상**: 프로그램
- 사용자 인증
- JWT 토큰 발급
- SSO 연동

#### 2.2.2 세션 처리
**개발대상**: 프로그램
- Redis 기반 세션 관리
- 세션 타임아웃 설정

#### 2.2.3 세션 유효 체크
**개발대상**: 프로그램
- 미들웨어를 통한 세션 검증
- 만료된 세션 자동 제거

#### 2.2.4 사용자 정보 조회
**개발대상**: 프로그램
- 로그인 사용자 정보 조회
- 권한 정보 조회

#### 2.2.5 사용자 접속/세션 기록
**개발대상**: 프로그램
- 접속 로그 기록
- 세션 이력 관리
- 감사 추적 (Audit Trail)

#### 2.2.6 메뉴 조회
**개발대상**: 프로그램
- 사용자 권한에 따른 메뉴 목록 조회
- 계층형 메뉴 구조 반환

---

## 3. 메인 (Main Dashboard)

### 3.1 관리 UI 메인
**개발대상**: UI, 프로그램
- 주요 지표 대시보드
- 실시간 통계 표시
- 시스템 상태 모니터링

---

## 4. 현황조회 (Status & Monitoring)

### 4.1 방문자 현황

#### 4.1.1 사용자별 이용 현황
**개발대상**: UI, 프로그램

**UI 기능**:
- 사용자별 이용 현황 조회 화면

**프로그램 기능**:
- 검색 컨트롤 설정 (기간, 사용자, 부서 등)
- 사용자별 이용 현황 검색
- 차트 설정 (막대, 꺾은선, 원 그래프)
- 엑셀 다운로드

#### 4.1.2 부서별 이용 현황
**개발대상**: UI, 프로그램

**UI 기능**:
- 부서별 이용 현황 조회 화면

**프로그램 기능**:
- 검색 컨트롤 설정
- 부서별 이용 현황 검색
- 차트 설정
- 엑셀 다운로드

### 4.2 활용 현황

#### 4.2.1 활용 현황
**개발대상**: UI, 프로그램

**UI 기능**:
- 활용 현황 종합 화면

**프로그램 기능**:
- 검색 컨트롤 설정
- 활용 현황 검색
- 문서 분류별 질의 현황 차트 설정
- 질의 분류별 질의 현황 차트 설정
- 문서 분류별 오류 현황 차트 설정
- 질의 분류별 오류 현황 차트 설정
- 엑셀 다운로드

### 4.3 문서 현황

#### 4.3.1 문서 현황
**개발대상**: UI
- 등록된 문서 통계
- 문서 분류별 현황
- 문서 처리 상태

### 4.4 시스템 모니터링

#### 4.4.1 GPU 서버
**개발대상**: UI, 프로그램

**UI 기능**:
- GPU 서버 모니터링 화면

**프로그램 기능**:
- GPU 검색 컨트롤 설정
- GPU 정보 검색 (사용률, 메모리, 온도)
- GPU 차트 설정

#### 4.4.2 컨테이너
**개발대상**: UI, 프로그램

**UI 기능**:
- Docker 컨테이너 모니터링 화면

**프로그램 기능**:
- 컨테이너 정보 검색 (상태, CPU, 메모리)
- 컨테이너 시작/중지/재시작

#### 4.4.3 디스크
**개발대상**: UI, 프로그램

**UI 기능**:
- 디스크 사용량 모니터링 화면

**프로그램 기능**:
- 디스크 정보 검색 (사용량, 용량, I/O)
- 경고 임계값 설정

---

## 5. 문서/권한 관리 (Document & Permission)

### 5.1 문서 등록 관리

#### 5.1.1 문서 관리
**개발대상**: UI, 프로그램

**UI 기능**:
- 문서 관리 메인 화면

**프로그램 기능**:

**기본 정보**:
- 검색 컨트롤 설정
- 문서 기본 검색
- 문서 기본 입력 설정
- 문서 기본 신규/수정/삭제 저장

**첨부 파일 (기본)**:
- 문서 기본 첨부 파일 검색
- 문서 기본 첨부 파일 불러오기
- 문서 기본 첨부 파일 신규/수정/삭제 저장
- 문서 기본 첨부 파일 신규/수정/삭제 파일 처리

**상세 정보**:
- 문서 상세 검색
- 문서 상세 입력 설정
- 문서 상세 신규/수정/삭제 저장

**첨부 파일 (상세)**:
- 문서 상세 첨부 파일 검색
- 문서 상세 첨부 파일 불러오기
- 문서 상세 첨부 파일 신규/수정/삭제 저장
- 문서 상세 첨부 파일 신규/수정/삭제 파일 처리

**권한 관리**:
- 문서 권한 부서 사용자 트리 선택 설정
- 문서 권한 부서 사용자 신규/수정/삭제 저장

**파일 작업 현황**:
- 문서 첨부 파일 작업 현황 검색
- 문서 첨부 파일 중복 파일 탭 검색
- 문서 첨부 파일 유사도 파일 탭 검색
- 문서 첨부 파일 개인정보 검출 파일 탭 검색
- 문서 첨부 파일 다운로드
- 문서 관리 엑셀 다운로드
- 문서 첨부 파일의 중복 문서 관리 바로 가기

### 5.2 문서 중복/민감 정보 관리

#### 5.2.1 관리 대상 문서 조회
**개발대상**: UI, 프로그램

**UI 기능**:
- 중복/민감 정보 관리 대상 문서 조회

**프로그램 기능**:
- 검색 컨트롤 설정
- 문서 첨부 파일 다운로드
- 관리 대상 문서 검색

**중복 관리**:
- 중복 목록 검색
- 중복 파일 사용자 처리

**유사도 관리**:
- 유사도 목록 검색
- 유사도 파일 사용자 처리

**개인정보 관리**:
- 개인 정보 검출 목록 검색
- 개인 정보 파일 사용자 처리
- 개인 정보 검출 파일 보기

#### 5.2.2 문서 비교 조회
**개발대상**: UI, 프로그램

**UI 기능**:
- 문서 비교 화면

**프로그램 기능**:
- 중복 / 유사도 파일 비교 검색
- 중복 / 유사도 파일 비교 보기
- 개인 정보 검출 파일 검색
- 개인 정보 검출 파일 보기

#### 5.2.3 개인정보 검출 문서 조회
**개발대상**: UI
- 개인정보가 포함된 문서 목록
- 검출된 개인정보 유형 표시

### 5.3 사전 관리

#### 5.3.1 동의어 사전
**개발대상**: UI, 프로그램

**UI 기능**:
- 동의어 사전 관리 화면

**프로그램 기능**:

**사전 관리**:
- 동의어 사전 검색 컨트롤 설정
- 동의어 사전 검색
- 동의어 사전 신규/수정/삭제 저장
- 동의어 사전 입력 설정

**동의어 관리**:
- 동의어 검색
- 동의어 신규/수정/삭제 저장
- 동의어 입력 설정

**임베딩 처리**:
- 동의어 임베딩 API 호출
- 동의어 임베딩 삭제 API 호출
- 동의어 임베딩 결과 저장
- 동의어 엑셀 다운로드

---

## 6. 시스템 관리 (System Management)

### 6.1 공지사항/팝업 관리

#### 6.1.1 공지사항 관리
**개발대상**: UI, 프로그램

**UI 기능**:
- 공지사항 목록 화면

**프로그램 기능**:
- 공지사항 검색 컨트롤 설정
- 공지사항 검색
- 공지사항 삭제 저장
- 공지사항 첨부 파일 다운로드

#### 6.1.2 공지사항 등록/수정/삭제
**개발대상**: UI, 프로그램

**UI 기능**:
- 공지사항 작성/수정 화면

**프로그램 기능**:
- 공지사항 데이터 검색
- 공지사항 신규/수정/삭제 저장
- 공지사항 입력 설정
- 공지사항 파일 처리

### 6.2 메뉴 관리(권한/추천 질의)

#### 6.2.1 메뉴 관리
**개발대상**: UI, 프로그램

**UI 기능**:
- 메뉴 관리 화면

**프로그램 기능**:

**메뉴 기본**:
- 메뉴 검색
- 메뉴 순서 변경
- 메뉴 삭제 저장

**권한 관리**:
- 메뉴 권한 부서 사용자 트리 선택 설정
- 메뉴 권한 부서/사용자 검색

**추천 질의**:
- 메뉴 추천 질의 검색
- 메뉴 추천 질의 입력 설정
- 메뉴 추천 질의 신규/수정/삭제 저장

#### 6.2.2 메뉴 등록/수정
**개발대상**: UI, 프로그램

**UI 기능**:
- 메뉴 등록/수정 화면

**프로그램 기능**:
- 메뉴 내용 검색
- 메뉴 입력 설정
- 메뉴 신규/저장

### 6.3 대화 내역 조회

#### 6.3.1 대화 내역 조회
**개발대상**: UI, 프로그램

**UI 기능**:
- 대화 내역 목록 화면

**프로그램 기능**:
- 대화 내역 검색 컨트롤 설정
- 대화 내역 검색
- 참조 문서 검색
- 참조 문서 다운로드
- 대화 내역 엑셀 다운로드
- 연관 질의 검색

#### 6.3.2 대화 상세 조회
**개발대상**: UI, 프로그램

**UI 기능**:
- 대화 상세 화면

**프로그램 기능**:
- 대화 내역 엑셀 다운로드
- 대화 상세 내역 조회
- 대화 상세 내역 참조 문서 다운로드

### 6.4 사용자별 업로드 파일 관리

#### 6.4.1 사용자별 업로드 파일 관리
**개발대상**: UI, 프로그램

**UI 기능**:
- 사용자별 업로드 파일 관리 화면

**프로그램 기능**:
- 사용자별 업로드 파일 검색 컨트롤 설정
- 사용자별 업로드 파일 검색
- 사용자별 업로드 목록 엑셀 다운로드
- 사용자별 업로드 파일 이력 검색
- 사용자별 업로드 파일 삭제
- 사용자별 업로드 파일 다운로드

### 6.5 만족도 조회

#### 6.5.1 만족도 조회
**개발대상**: UI, 프로그램

**UI 기능**:
- 만족도 조사 결과 화면

**프로그램 기능**:
- 만족도 검색 컨트롤 설정
- 만족도 검색
- 만족도 엑셀 다운로드

### 6.6 사용자 관리

#### 6.6.1 사용자 관리
**개발대상**: UI, 프로그램

**UI 기능**:
- 사용자 관리 화면

**프로그램 기능**:
- 사용자 관리 컨트롤 설정
- 부서 검색
- 사용자 검색
- 사용자 설정 저장

### 6.7 공통 코드 관리

#### 6.7.1 공통 코드 관리
**개발대상**: UI, 프로그램

**UI 기능**:
- 공통 코드 관리 화면 (5단계 계층)

**프로그램 기능**:

**레벨 1**:
- 공통코드 레벨 1 검색
- 공통코드 레벨 1 신규/수정/삭제 저장
- 공통코드 레벨 1 순서 변경

**레벨 2**:
- 공통코드 레벨 2 검색
- 공통코드 레벨 2 신규/수정/삭제 저장
- 공통코드 레벨 2 순서 변경

**레벨 3**:
- 공통코드 레벨 3 검색
- 공통코드 레벨 3 신규/수정/삭제 저장
- 공통코드 레벨 3 순서 변경

**레벨 4**:
- 공통코드 레벨 4 검색
- 공통코드 레벨 4 신규/수정/삭제 저장
- 공통코드 레벨 4 순서 변경

**레벨 5**:
- 공통코드 레벨 5 검색
- 공통코드 레벨 5 신규/수정/삭제 저장
- 공통코드 레벨 5 순서 변경

### 6.8 연계 프로그램 스케줄 관리

#### 6.8.1 연계 프로그램 스케줄 관리
**개발대상**: UI, 프로그램

**UI 기능**:
- 연계 프로그램 스케줄 관리 화면

**프로그램 기능**:
- 연계 프로그램 스케줄 검색
- 연계 프로그램 스케줄 입력 설정
- 연계 프로그램 스케줄 신규/수정/삭제 저장
- 연계 프로그램 스케줄 로그 검색

---

## 7. 기술 스택

### 7.1 백엔드
- **프레임워크**: FastAPI (Python)
- **데이터베이스**: PostgreSQL 15
- **인증/인가**: JWT + Cerbos (PBAC)
- **캐시**: Redis 7
- **파일 저장소**: MinIO
- **ORM**: SQLAlchemy (비동기)
- **마이그레이션**: Alembic

### 7.2 프론트엔드
- **프레임워크**: React 19 + React Admin 5
- **빌드 도구**: Vite
- **UI 라이브러리**: Material-UI (MUI)
- **차트**: Chart.js, Recharts
- **상태 관리**: React Admin 내장
- **HTTP 클라이언트**: Axios

### 7.3 인프라
- **컨테이너**: Docker + Docker Compose
- **웹 서버**: Apache HTTP Server (SSL)
- **사용자 UI 서버**: Tomcat 10.1.43
- **배포**: 온프레미스

---

## 8. 우선순위

### P0 (필수)
- 로그인/인증
- 사용자 관리
- 문서 관리 (기본)
- 대화 내역 조회
- 공지사항 관리

### P1 (중요)
- 현황 조회 (방문자/활용)
- 문서 권한 관리
- 만족도 조회
- 시스템 모니터링

### P2 (선택)
- 중복/민감 정보 관리
- 동의어 사전 관리
- 공통 코드 관리
- 연계 프로그램 스케줄 관리

---

## 9. 개발 가이드

### 9.1 신규 기능 추가 프로세스
1. PRD 문서 업데이트
2. 데이터베이스 스키마 설계 (docs/DATABASE_SCHEMA.md)
3. Alembic 마이그레이션 생성
4. 백엔드 API 개발 (app/routers/)
5. 프론트엔드 리소스 개발 (frontend/src/resources/)
6. 테스트 작성 및 실행
7. 문서 업데이트

### 9.2 코딩 컨벤션
- **Python**: PEP 8
- **JavaScript**: ESLint (React)
- **API 네이밍**: RESTful (소문자 + 언더스코어)
- **데이터베이스**: 스네이크 케이스
- **컴포넌트**: 파스칼 케이스

---

## 10. 참고 문서
- DATABASE_SCHEMA.md - 데이터베이스 스키마
- TECH_DECISION.md - 기술 스택 결정 사항
- FRONTEND_INTEGRATION_GUIDE.md - 프론트엔드 개발 가이드
- PRODUCTION_DEPLOYMENT_GUIDE.md - 배포 가이드
